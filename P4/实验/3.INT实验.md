# INT实验

本实验中在IP首部和以太网首部之间增加一个新的Meter首部以实现INT功能。数据包的转发根据目的IP地址，在转发的过程中，将路径上经过的交换机以及对应的端口队列长度作为遥测信息封装进Meter首部。该首部包括三部分的内容：proto_id，用来标识它内部封装的协议类型，如内部的是IP报文，则proto_id等于0x0800；meter_t标识后面遥感数据的数量；switch_t用来携带遥感信息。通信模式如下：终端将普通的数据报发送到遥测起点(Source)，然后起点为数据包添加上遥测层，然后数据报在遥测起点和遥测终点(Sink)之间进行IPv4转发，同时每经过一个转发设备都增加遥测信息到数据包，到达遥测终点后，数据报需要去掉遥测首部，然后将普通的报文在端口中转发出去，并将遥测信息发送至检测点。遥测节点将遥测信息发送至检测点的功能可以通过packet-out信息的方式发送给控制器，这个功能我们暂时不予实现。

## 实验拓扑

![实验拓扑](https://github.com/OucMan/P4-ONOS/blob/main/P4/%E5%AE%9E%E9%AA%8C/pic/1-topo.png)


## 首部信息


## 头文件以及预定义




